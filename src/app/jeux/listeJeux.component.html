<!--The content below is only a placeholder and can be replaced.-->
<div>
  <h2>Il y a actuellement {{getNbJeux()}} jeux dans la ludothèque</h2>
</div>

<table class="table table-striped table-sm table-hover" >
  <thead class="table-dark ">
    <tr>
      <th scope="col">Nom</th>
      <th scope="col">Editeur</th>
      <th scope="col">Categories</th>
      <th scope="col">Difficulté</th>
      <th scope="col">nb Joueurs</th>
      <th scope="col">Durée</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let jeu of getJeux()">
      <td>{{jeu.nom}}</td>
      <td>{{jeu.editeur}}</td>
      <td><span *ngFor="let cat of jeu.categories">{{cat.libelle}}</span></td>
      <td [ld-access]="jeu.accessibilite" >{{jeu.accessibilite}}</td>
      <td>{{jeu.nbJoueursMin}} à {{jeu.nbJoueursMax}} joueurs</td>
      <td>{{jeu.dureeMin}} min</td>
    </tr>
  </tbody>
</table>

<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#editJeuModal" (click)="razJeuEdit()">
    Ajouter un jeu
</button>

<!-- Modal -->
<div class="modal fade" id="editJeuModal" tabindex="-1" role="dialog" aria-labelledby="editJeuLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="editJeuLabel">Nouveau Jeu</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          jeu : {{jsonEditJeu}} 
          <form novalidate (ngSubmit)="jeuEdit"> 

            <div class="form-group row">
              <label class="col-sm-2 col-form-label">Nom</label>
              <div class="col-sm-10">
                <input  class="form-control" 
                        placeholder="nom" 
                        required
                        name="nom"
                        [(ngModel)]="jeuEdit.nom"
                        />
              </div>
            </div>

            <div class="form-group row">
              <label class="col-sm-2 col-form-label">Editeur</label>
              <div class="col-sm-10">
                <input  class="form-control" 
                        placeholder="éditeur" 
                        name="editeur"
                        [(ngModel)]="jeuEdit.editeur"
                        />
              </div>
            </div>

            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Distributeur</label>
                <div class="col-sm-10">
                  <input  class="form-control" 
                          placeholder="Distributeur" 
                          name="distributeur"
                          [(ngModel)]="jeuEdit.distributeur"
                          />
                </div>
            </div>


            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Accessibilite</label>
                
                <div class="btn-group col-sm-7">
                  <input type="range" class="custom-range" 
                        [min]="firstAccessibilite" [max]="lastAccessibilite"
                        name="accessibilite"
                        [(ngModel)]="jeuEdit.accessibilite"
                        />
                </div>
                <div class="btn-group col-sm-3 align-bottom">
                    <label  class="form-control text-center"
                      [ngClass]="{'text-success': (jeuEdit.accessibilite<3),
                                  'text-primary': jeuEdit.accessibilite==3,
                                  'text-warning': jeuEdit.accessibilite==4,
                                  'text-danger font-weight-bold': jeuEdit.accessibilite==5}"
                      >{{accesbiliteVal}}</label >
                </div>
            </div>
         
            <div class="form-group row">
              <label class="col-sm-2 col-form-label">Age min</label>
              <div class="col-sm-10">
                <input  class="form-control" 
                        placeholder="Age min" 
                        name="ageMin"
                        [(ngModel)]="jeuEdit.ageMin"
                        />
              </div>
            </div>

            <div class="form-group row">
              <label class="col-sm-2 col-form-label">De</label>
              <div class="col-sm-2">
                <input  class="form-control" 
                        placeholder="min"
                        name="nbJoueursMin"
                        [(ngModel)]="jeuEdit.nbJoueursMin"

                        />
              </div>
              <label class="col-sm-1 col-form-label">à</label>
              <div class="col-sm-2">
                <input  class="form-control" 
                        placeholder="max" 
                        name="nbJoueursMax"
                        [(ngModel)]="jeuEdit.nbJoueursMax"
                        />
              </div>
              <div class="col-sm-1 col-form-label">joueurs</div>
            </div>
            
            <div class="form-group row">
              <label class="col-sm-2 col-form-label">Durée</label>
              <div class="col-sm-2">
                <input  class="form-control" 
                        placeholder="60" 
                        name="dureeMin"
                        [(ngModel)]="jeuEdit.dureeMin"
                        />
              </div>
              <div class="col-sm-1 col-form-label">minutes</div>
            </div>
            


          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
          <button type="button" class="btn btn-primary">Sauver</button>
        </div>
      </div>
    </div>
  </div>